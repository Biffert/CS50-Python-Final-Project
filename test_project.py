from project import generate_field, valid_move, parse_move

def test_generate_field(): # valid input in main() is 5 to 10
    assert generate_field(5) == [{' ': 'a', '1': '游릴', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游릴'}, {' ': 'b', '1': '游릴', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游릴'}, {' ': 'c', '1': '游릴', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游릴'}, {' ': 'd', '1': '游릴', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游릴'}, {' ': 'e', '1': '游릴', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游릴'}]
    assert generate_field(10) == [{' ': 'a', '1': '游릴', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游릴', '6': '游릴', '7': '游릴', '8': '游릴', '9': '游릴', '10': '游릴'}, {' ': 'b', '1': '游릴', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游릴', '6': '游릴', '7': '游릴', '8': '游릴', '9': '游릴', '10': '游릴'}, {' ': 'c', '1': '游릴', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游릴', '6': '游릴', '7': '游릴', '8': '游릴', '9': '游릴', '10': '游릴'}, {' ': 'd', '1': '游릴', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游릴', '6': '游릴', '7': '游릴', '8': '游릴', '9': '游릴', '10': '游릴'}, {' ': 'e', '1': '游릴', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游릴', '6': '游릴', '7': '游릴', '8': '游릴', '9': '游릴', '10': '游릴'}, {' ': 'f', '1': '游릴', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游릴', '6': '游릴', '7': '游릴', '8': '游릴', '9': '游릴', '10': '游릴'}, {' ': 'g', '1': '游릴', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游릴', '6': '游릴', '7': '游릴', '8': '游릴', '9': '游릴', '10': '游릴'}, {' ': 'h', '1': '游릴', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游릴', '6': '游릴', '7': '游릴', '8': '游릴', '9': '游릴', '10': '游릴'}, {' ': 'i', '1': '游릴', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游릴', '6': '游릴', '7': '游릴', '8': '游릴', '9': '游릴', '10': '游릴'}, {' ': 'j', '1': '游릴', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游릴', '6': '游릴', '7': '游릴', '8': '游릴', '9': '游릴', '10': '游릴'}]

def test_valid_move(): # syntax: valid_move(player_move, difficulty, previous_moves)

    # no previous moves and field sizing test
    assert valid_move("a1", 5, []) == True
    assert valid_move("e5", 5, []) == True
    assert valid_move("a0", 5, []) == False
    assert valid_move("a6", 5, []) == False
    assert valid_move("f1", 5, []) == False
    assert valid_move("'1", 5, []) == False
    assert valid_move("f6", 6, []) == True

    # previous moves test

    assert valid_move("a1", 5, []) == True
    assert valid_move("a1", 5, ["a1"]) == False
    assert valid_move("c5", 5, ["c1", "c2", "c3", "c4"]) == True
    assert valid_move("c5", 5, ["c1", "c2", "c3", "c4", "c5"]) == False

def test_parse_move(): # syntax: parse_move(player_move, mine_field, bomb_location)
    assert parse_move("a1", generate_field(5), "a5") == [{' ': 'a', '1': '游릶', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游릴'}, {' ': 'b', '1': '游릴', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游릴'}, {' ': 'c', '1': '游릴', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游릴'}, {' ': 'd', '1': '游릴', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游릴'}, {' ': 'e', '1': '游릴', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游릴'}]
    assert parse_move("e5", generate_field(5), "a5") == [{' ': 'a', '1': '游릴', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游릴'}, {' ': 'b', '1': '游릴', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游릴'}, {' ': 'c', '1': '游릴', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游릴'}, {' ': 'd', '1': '游릴', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游릴'}, {' ': 'e', '1': '游릴', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游릶'}]

    # flag detected
    assert parse_move("a1", generate_field(5), "a2") == [{' ': 'a', '1': '游뛀', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游릴'}, {' ': 'b', '1': '游릴', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游릴'}, {' ': 'c', '1': '游릴', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游릴'}, {' ': 'd', '1': '游릴', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游릴'}, {' ': 'e', '1': '游릴', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游릴'}]
    assert parse_move("e5", generate_field(5), "d5") == [{' ': 'a', '1': '游릴', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游릴'}, {' ': 'b', '1': '游릴', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游릴'}, {' ': 'c', '1': '游릴', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游릴'}, {' ': 'd', '1': '游릴', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游릴'}, {' ': 'e', '1': '游릴', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游뛀'}]

    # bomb detected
    assert parse_move("a1", generate_field(5), "a1") == [{' ': 'a', '1': '游눢', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游릴'}, {' ': 'b', '1': '游릴', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游릴'}, {' ': 'c', '1': '游릴', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游릴'}, {' ': 'd', '1': '游릴', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游릴'}, {' ': 'e', '1': '游릴', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游릴'}]
    assert parse_move("e5", generate_field(5), "e5") == [{' ': 'a', '1': '游릴', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游릴'}, {' ': 'b', '1': '游릴', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游릴'}, {' ': 'c', '1': '游릴', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游릴'}, {' ': 'd', '1': '游릴', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游릴'}, {' ': 'e', '1': '游릴', '2': '游릴', '3': '游릴', '4': '游릴', '5': '游눢'}]
